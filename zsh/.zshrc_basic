alias mkdir="mkdir -pv" 
alias c="clear"
alias rd="rm -rf"
alias lg="lazygit"
alias nf='nvim "$(fzf)"'
alias df='df -h'
alias n='nvim'

export PATH="$PATH:$HOME/.scripts/tmux"
bindkey -s '^f' 'tmux-sessionizer.sh\n'
function chdir() {
mkdir -p "$1" && cd "$1";
}

function cpphere() {
cp -f $HOME/dotfiles/clang/.clang-format .;
cp -f $HOME/dotfiles/clang/.clang-tidy .;
cp -f $HOME/dotfiles/clang/.editorconfig .;
}

function cmakehere() {
cp $HOME/dotfiles/cmake_template/* .
}

# yazi terminal file manager
function ff() {
	local tmp="$(mktemp -t "yazi-cwd.XXXXXX")" cwd
	yazi "$@" --cwd-file="$tmp"
	if cwd="$(command cat -- "$tmp")" && [ -n "$cwd" ] && [ "$cwd" != "$PWD" ]; then
		builtin cd -- "$cwd"
	fi
	rm -f -- "$tmp"
}

if [[ "$(uname)" == "Linux" ]]; then
  alias bat="batcat"
fi

# Find and set branch name var if in git repository.
function git_branch_name() {
  branch=$(git symbolic-ref HEAD 2> /dev/null | awk 'BEGIN{FS="/"} {print $NF}')
  if [[ $branch == "" ]];
  then
    :
  else
    echo '- ('$branch')'
  fi
}
setopt prompt_subst
# prompt='%2/ $(git_branch_name) > '
# prompt='%F{blue}%2/ $(git_branch_name) %F{green}> %f'
# prompt='%F{blue}%2/ $(git_branch_name) %F{$(( $? == 0 ? 2 : 1 ))}> %f'
precmd() {
  if [[ $? -eq 0 ]]; then
    PROMPT='%F{blue}%2/ $(git_branch_name) %F{green}> %f'
  else
    PROMPT='%F{cyan}%2/ $(git_branch_name) %F{red}> %f'
  fi
}

rc() {
    echo `fc -ln -1` > run_command.txt
}

[ -f ~/.zshrc.local ] && source ~/.zshrc.local
